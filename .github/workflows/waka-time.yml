name: WakaTime Stats

on:
  schedule:
    # Run every day at 00:30 UTC
    - cron: '30 0 * * *'
  workflow_dispatch:  # Allow manual trigger

jobs:
  update-readme:
    name: Update WakaTime Stats
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        
      - name: Update WakaTime Stats
        uses: athul/waka-readme@master
        with:
          WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }}
          # Optional: Customize the stats display
          # SHOW_TITLE: true
          # SHOW_TIME: true
          # SHOW_TOTAL: true
          # SHOW_MASKED_TIME: false

# Setup Instructions:
# 1. Sign up for WakaTime at https://wakatime.com/
# 2. Get your WakaTime API Key from https://wakatime.com/settings/api-key
# 3. Add the API key as a repository secret named WAKATIME_API_KEY
#    - Go to repository Settings > Secrets and variables > Actions
#    - Click "New repository secret"
#    - Name: WAKATIME_API_KEY
#    - Value: Your WakaTime API key
# 4. Install WakaTime plugin in your IDE (VS Code, Visual Studio, etc.)
# 5. Add the following comment block in your README.md where you want stats to appear:
#    <!--START_SECTION:waka-->
#    <!--END_SECTION:waka-->
